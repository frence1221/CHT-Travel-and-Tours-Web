<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>CHT Travel & Tour Management System - Employees</title>
  <link rel="stylesheet" href="../CSS/assets/css/style.css">
</head>
<body class="app-body">
  <!-- SIDEBAR -->
  <aside class="sidebar">
    <div class="sidebar-logo">
      <div class="logo-circle">CHT</div>
      <div class="logo-text">
        <span>CHT Travel & Tours</span>
        <small>Admin Panel</small>
      </div>
    </div>

    <nav class="sidebar-menu">
      <a href="dashboard.html" class="sidebar-item">
        <span class="sidebar-icon">üè†</span> Dashboard
      </a>
      <a href="tour_packages.html" class="sidebar-item">
        <span class="sidebar-icon">üß≥</span> Tour Packages
      </a>
      <a href="employees.html" class="sidebar-item active">
        <span class="sidebar-icon">üë•</span> Employees
      </a>
    </nav>

    <div class="sidebar-footer">
      <button class="link-btn" id="logoutBtnEmployees">‚üµ Logout</button>
    </div>
  </aside>

  <!-- MAIN CONTENT -->
  <main class="content">
    <!-- HEADER -->
    <header class="content-header">
      <div>
        <h1 class="content-title">
          <span class="header-icon">üë•</span>
          Employee Management
        </h1>
        <p class="content-subtitle">Manage CHT Travel & Tours employees and their roles</p>
      </div>
      <div class="content-header-right">
        <button class="btn btn-primary small" id="scrollToEmployeeFormBtn">üë§ Add New Employee</button>
      </div>
    </header>

    <!-- TOOLBAR (SEARCH + REFRESH + SHOW INACTIVE) -->
    <section class="toolbar">
      <div class="search-group">
        <input type="text" id="employeeSearch" placeholder="Search employees...">
        <button class="btn btn-secondary small" id="searchEmployeeBtn">Search</button>
        <button class="btn btn-secondary small" id="refreshEmployeeBtn">‚ü≥ Refresh</button>
      </div>

      <label class="show-inactive-label">
        <input type="checkbox" id="showInactiveCheckbox">
        Show Inactive
      </label>
    </section>

    <!-- EMPLOYEE TABLE (TOP) -->
    <section class="table-wrapper big">
      <table id="employeesTable">
        <thead>
        <tr>
          <th>ID</th>
          <th>Name</th>
          <th>Email</th>
          <th>Contact</th>
          <th>Role</th>
          <th>Status</th>
          <th>Actions</th>
        </tr>
        </thead>
        <tbody>
        <!-- rows generated by JS -->
        </tbody>
      </table>
    </section>

    <!-- ADD / EDIT EMPLOYEE (BOTTOM) -->
    <section id="employeeFormSection" class="employee-form-section">
      <div class="employee-form-header">
        <button type="button" class="accordion-title" id="toggleEmployeeFormAccordion">
          ‚ñæ Add New Employee
        </button>
      </div>

      <div id="employeeFormBody" class="employee-form-body">
        <form id="employeeForm" class="employee-form">
          <input type="hidden" id="employeeId">

          <!-- Row 1: Full Name & Email -->
          <div class="row-2">
            <div class="form-group">
              <label for="empName">Full Name:</label>
              <input id="empName" type="text" placeholder="Enter full name" required>
            </div>
            <div class="form-group">
              <label for="empEmail">Email:</label>
              <input id="empEmail" type="email" placeholder="Enter email address" required>
            </div>
          </div>

          <!-- Row 2: Contact Number & Role -->
          <div class="row-2">
            <div class="form-group">
              <label for="empContact">Contact Number:</label>
              <input id="empContact" type="text" placeholder="Enter contact number">
            </div>
            <div class="form-group">
              <label for="empRole">Role:</label>
              <select id="empRole">
                <option value="Staff">Staff</option>
                <option value="Manager">Manager</option>
                <option value="User">User</option>
              </select>
            </div>
          </div>

          <!-- Row 3: Password & Confirm Password -->
          <div class="row-2">
            <div class="form-group">
              <label for="empPassword">Password:</label>
              <input id="empPassword" type="password" placeholder="Enter password">
            </div>
            <div class="form-group">
              <label for="empConfirmPassword">Confirm Password:</label>
              <input id="empConfirmPassword" type="password" placeholder="Confirm password">
            </div>
          </div>

          <!-- Row 4: Status -->
          <div class="row-2">
            <div class="form-group checkbox-group">
              <label>Status:</label>
              <label class="checkbox-inline">
                <input id="empActive" type="checkbox" checked> Active
              </label>
            </div>
          </div>

          <!-- ERROR TEXT (password mismatch, etc.) -->
          <p id="employeeFormError" class="form-error hidden"></p>

          <!-- BUTTONS -->
          <div class="form-actions-right">
            <button type="button" class="btn btn-secondary" id="cancelEmployeeBtn">Cancel</button>
            <button type="submit" class="btn btn-primary">Save Employee</button>
          </div>
        </form>
      </div>
    </section>
  </main>

  <script src="../../JS/assets/admin_JS/adminEmployees.js"></script>
  <script>
    // Logout functionality
    document.getElementById('logoutBtnEmployees').addEventListener('click', function() {
      localStorage.removeItem('cht_current_username');
      window.location.href = '../log_in.html';
    });
  </script>
</body>
</html>